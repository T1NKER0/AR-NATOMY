@app.route('/userValidation', methods=['GET'])
def user_validation():
    # Check if the user is logged in by verifying the session
    username = session.get('username')

    if not username:
        # If no username is found in the session, redirect to the login page
        return redirect(url_for('login'))

    # Query the database for the user using the username stored in the session
    user = User.query.filter_by(username=username).first()

    if user:
        # Find the role associated with this user (Assuming a relationship with the Role table)
        role = db.session.query(Role).join(User.roles).filter(User.id == user.id).first()

        if role:
            # Store the user's role in the session
            session['role'] = role.role_name
            # Redirect the user to the main menu after validation
            return redirect(url_for('main_menu'))
        else:
            # If no role is found, return an error
            return "Role not found for this user", 404
    else:
        # If user is not found in the database, return an error
        return "User not found", 404
